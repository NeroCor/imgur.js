!function(i,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("superagent-bluebird-promise"),require("lodash")):"function"==typeof define&&define.amd?define(["superagent-bluebird-promise","lodash"],t):i.imgur=t(i.request,i._)}(this,function(i,t){"use strict";var e={API_URL:"https://api.imgur.com",API_VERSION:"3",CLIENT_ID:"",buildOptions:function(i,t,e){return{apiUrl:i,path:t,method:e}},bearer:""},r=e,n=function(t){["method","apiUrl","path"].forEach(function(i){if(!t[i])throw new Error(i+" must be specified")});var e="Client-ID "+r.CLIENT_ID,n=t.body||{};return r.BEARER&&(e="Bearer "+r.BEARER),i[t.method]([t.apiUrl,t.path].join("/")).send(n).set("Authorization",e).promise()},o=n,u=function(i){return i.imgurAPICall=t.bind(o,i),i.apiUrl=i.apiUrl||[r.API_URL,r.API_VERSION].join("/"),i},a=u,s=a({path:"image",apiUrl:[r.API_URL,r.API_VERSION].join("/"),get:function(i){var t=r.buildOptions(this.apiUrl,[this.path,i].join("/"),"get");return this.imgurAPICall(t)}}),p=a({path:"oauth2",apiUrl:r.API_URL,get:function(i){var t=i||"token",e="?"+["response_type="+t,"client_id="+r.CLIENT_ID].join("&"),n=[this.path,"authorize"].join("/")+e,o=r.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(o)},refresh:function(i,t){var e="?"+["refresh_token="+i,"client_id="+r.CLIENT_ID,"client_secret="+t,"grant_type=refresh_token"].join("&"),n=[this.path,"token"].join("/")+e,o=r.buildOptions(this.apiUrl,n,"post");return this.imgurAPICall(o)}}),l=a({path:"topics",apiUrl:[r.API_URL,r.API_VERSION].join("/"),get:function(i){var t=void 0===arguments[1]?"viral":arguments[1],e=void 0===arguments[2]?0:arguments[2],n=[this.path,i,t,e].join("/"),o=r.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(o)}}),h=function(i){var t=function(i,t){r[i]=t},e=function(i){return r[i]};if(!i)throw new Error("Client Key required to initialize imgur client");return t("CLIENT_ID",i),{image:s,oauth2:p,topics:l,imgurAPICall:o,setUtil:t,getUtil:e}},I=h;return I});
//# sourceMappingURL=imgur.min.js.map