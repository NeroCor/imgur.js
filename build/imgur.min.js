!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("superagent-bluebird-promise"),require("lodash")):"function"==typeof define&&define.amd?define(["superagent-bluebird-promise","lodash"],i):t.imgur=i(t.request,t._)}(this,function(t,i){"use strict";var e={API_URL:"https://api.imgur.com",API_VERSION:"3",CLIENT_ID:"",buildOptions:function(t,i,e){return{apiUrl:t,path:i,method:e}},bearer:""},r=function(i){["method","apiUrl","path"].forEach(function(t){if(!i[t])throw new Error(""+t+" must be specified")});var r="Client-ID "+e.CLIENT_ID,n=i.body||{};return e.BEARER&&(r="Bearer "+e.BEARER),t[i.method](""+i.apiUrl+"/"+i.path).send(n).set("Authorization",r).promise()},n=function(t){return t.imgurAPICall=i.bind(r,t),t.apiUrl=t.apiUrl||""+e.API_URL+"/"+e.API_VERSION,t},u=n({path:"image",apiUrl:""+e.API_URL+"/"+e.API_VERSION,get:function(t){var i=e.buildOptions(this.apiUrl,""+this.path+"/"+t,"get");return this.imgurAPICall(i)}}),a=n({path:"oauth2",apiUrl:e.API_URL,get:function(t){var i=t||"token",r="?"+["response_type="+i,"client_id="+e.CLIENT_ID].join("&"),n=""+this.path+"/authorize"+r,u=e.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(u)},refresh:function(t,i){var r="?"+["refresh_token="+t,"client_id="+e.CLIENT_ID,"client_secret="+i,"grant_type=refresh_token"].join("&"),n=""+this.path+"/token"+r,u=e.buildOptions(this.apiUrl,n,"post");return this.imgurAPICall(u)}}),o=n({path:"topics",apiUrl:""+e.API_URL+"/"+e.API_VERSION,get:function(t){var i=void 0===arguments[1]?"viral":arguments[1],r=void 0===arguments[2]?0:arguments[2],n=""+this.path+"/"+t+"/"+i+"/"+r,u=e.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(u)},getDefaults:function(){var t=""+this.path+"/defaults",i=e.buildOptions(this.apiUrl,t,"get");return this.imgurAPICall(i)}}),s=function(t){var i=function(t,i){e[t]=i},n=function(t){return e[t]};if(!t)throw new Error("Client Key required to initialize imgur client");return i("CLIENT_ID",t),{imgurAPICall:r,CLIENT_ID:t,image:u,oauth2:a,topics:o,setUtil:i,getUtil:n}};return s});
//# sourceMappingURL=imgur.min.js.map