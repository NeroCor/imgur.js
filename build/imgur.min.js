!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("superagent-bluebird-promise"),require("lodash")):"function"==typeof define&&define.amd?define(["superagent-bluebird-promise","lodash"],i):t.imgur=i(t.request,t._)}(this,function(t,i){"use strict";var r={API_URL:"https://api.imgur.com",API_VERSION:"3",CLIENT_ID:"",buildOptions:function(t,i,r){return{apiUrl:t,path:i,method:r}},bearer:""},e=function(i){["method","apiUrl","path"].forEach(function(t){if(!i[t])throw new Error(""+t+" must be specified")});var e="Client-ID "+r.CLIENT_ID,n=i.body||{};return r.BEARER&&(e="Bearer "+r.BEARER),t[i.method](""+i.apiUrl+"/"+i.path).send(n).set("Authorization",e).promise()},n=function(t){return t.imgurAPICall=i.bind(e,t),t.apiUrl=t.apiUrl||""+r.API_URL+"/"+r.API_VERSION,t},a=n({path:"image",apiUrl:""+r.API_URL+"/"+r.API_VERSION,get:function(t){var i=r.buildOptions(this.apiUrl,""+this.path+"/"+t,"get");return this.imgurAPICall(i)}}),u=n({path:"oauth2",apiUrl:r.API_URL,get:function(t){var i=t||"token",e="?"+["response_type="+i,"client_id="+r.CLIENT_ID].join("&"),n=""+this.path+"/authorize"+e,a=r.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(a)},refresh:function(t,i){var e="?"+["refresh_token="+t,"client_id="+r.CLIENT_ID,"client_secret="+i,"grant_type=refresh_token"].join("&"),n=""+this.path+"/token"+e,a=r.buildOptions(this.apiUrl,n,"post");return this.imgurAPICall(a)}}),s=n({path:"topics",apiUrl:""+r.API_URL+"/"+r.API_VERSION,get:function(t){var i=void 0===arguments[1]?"viral":arguments[1],e=void 0===arguments[2]?0:arguments[2],n=""+this.path+"/"+t+"/"+i+"/"+e,a=r.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(a)},getDefaults:function(){var t=""+this.path+"/defaults",i=r.buildOptions(this.apiUrl,t,"get");return this.imgurAPICall(i)}}),o={path:"gallery",apiUrl:""+r.API_URL+"/"+r.API_VERSION},l=n(i.extend({},o,{get:function(t){var i=""+this.path+"/"+t,e=r.buildOptions(this.apiUrl,i,"get");return this.imgurAPICall(e)},report:function(t){var i=""+this.path+"/"+t+"/report",e=r.buildOptions(this.apiUrl,i,"post");return this.imgurAPICall(e)},comments:n(i.extend({},o,{get:function(t){var i=void 0===arguments[1]?"best":arguments[1],e=""+this.path+"/"+t+"/comments/"+i,n=r.buildOptions(this.apiUrl,e,"get");return this.imgurAPICall(n)}}))})),p=n({path:"gallery",apiUrl:""+r.API_URL+"/"+r.API_VERSION,get:function(){var t=void 0===arguments[0]?"hot":arguments[0],i=void 0===arguments[1]?"viral":arguments[1],e=void 0===arguments[2]?0:arguments[2],n=void 0===arguments[3]?!0:arguments[3],a=""+this.path+"/"+t+"/"+i+"/"+e+"?showViral="+n,u=r.buildOptions(this.apiUrl,a,"get");return this.imgurAPICall(u)},post:l}),h=n({path:"comment",apiUrl:""+r.API_URL+"/"+r.API_VERSION,downvote:function(t){var i=""+this.path+"/"+t+"/vote/down",e=r.buildOptions(this.apiUrl,i,"post");return this.imgurAPICall(e)},upvote:function(t){var i=""+this.path+"/"+t+"/vote/up",e=r.buildOptions(this.apiUrl,i,"post");return this.imgurAPICall(e)},report:function(t){var i=""+this.path+"/"+t+"/report",e=r.buildOptions(this.apiUrl,i,"post");return this.imgurAPICall(e)},deleteComment:function(t){var i=""+this.path+"/"+t,e=r.buildOptions(this.apiUrl,i,"delete");return this.imgurAPICall(e)}}),g=function(t){var i=function(t,i){r[t]=i},n=function(t){return r[t]};if(!t)throw new Error("Client Key required to initialize imgur client");return i("CLIENT_ID",t),{imgurAPICall:e,CLIENT_ID:t,image:a,oauth2:u,topics:s,gallery:p,comment:h,setUtil:i,getUtil:n}};return g});
//# sourceMappingURL=imgur.min.js.map