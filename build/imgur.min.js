!function(i,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("lodash"),require("superagent-bluebird-promise")):"function"==typeof define&&define.amd?define(["lodash","superagent-bluebird-promise"],t):i.imgur=t(i._,i.request)}(this,function(i,t){"use strict";var r={API_URL:"https://api.imgur.com",API_VERSION:"3",CLIENT_ID:"",buildOptions:function(i,t,r){return{apiUrl:i,path:t,method:r}}},e=r,n=function(i){["method","apiUrl","path"].forEach(function(t){if(!i[t])throw new Error(t+" must be specified")});var r=i.body||{};i.bearer;var n="Client-ID "+e.CLIENT_ID;return t[i.method]([i.apiUrl,i.path].join("/")).send(r).set("Authorization",n).promise()},o=n,a=function(t){return t.imgurAPICall=i.bind(o,t),t.apiUrl=t.apiUrl||[e.API_URL,e.API_VERSION].join("/"),t},u=a,s=u({path:"image",apiUrl:[e.API_URL,e.API_VERSION].join("/"),get:function(i){var t=e.buildOptions(this.apiUrl,[this.path,i].join("/"),"get");return this.imgurAPICall(t)}}),p=u({path:"oauth2",apiUrl:e.API_URL,get:function(i){var t=i||"token",r="?"+["response_type="+t,"client_id="+e.CLIENT_ID].join("&"),n=[this.path,"authorize"].join("/")+r,o=e.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(o)},refresh:function(i,t){var r="?"+["refresh_token="+i,"client_id="+e.CLIENT_ID,"client_secret="+t,"grant_type=refresh_token"].join("&"),n=[this.path,"token"].join("/")+r,o=e.buildOptions(this.apiUrl,n,"post");return this.imgurAPICall(o)}}),l=u({path:"topics",apiUrl:[e.API_URL,e.API_VERSION].join("/"),get:function(i){var t=void 0===arguments[1]?"viral":arguments[1],r=void 0===arguments[2]?0:arguments[2],n=[this.path,i,t,r].join("/"),o=e.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(o)}}),h=function(t){if(!t)throw new Error("Client Key required to initialize imgur client");var r={image:s,oauth2:p,topics:l};e.CLIENT_ID=t;var n={imgurAPICall:o};return n.CLIENT_ID=t,i.forEach(r,function(i,t){n[t]=i}),n},I=h;return I});
//# sourceMappingURL=imgur.min.js.map