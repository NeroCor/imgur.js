!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("superagent-bluebird-promise"),require("lodash")):"function"==typeof define&&define.amd?define(["superagent-bluebird-promise","lodash"],i):t.imgur=i(t.request,t._)}(this,function(t,i){"use strict";var e={API_URL:"https://api.imgur.com",API_VERSION:"3",CLIENT_ID:"",buildOptions:function(t,i,e){return{apiUrl:t,path:i,method:e}},bearer:""},r=function(i){["method","apiUrl","path"].forEach(function(t){if(!i[t])throw new Error(""+t+" must be specified")});var r="Client-ID "+e.CLIENT_ID,n=i.body||{};return e.BEARER&&(r="Bearer "+e.BEARER),t[i.method](""+i.apiUrl+"/"+i.path).send(n).set("Authorization",r).promise()},n=function(t){return t.imgurAPICall=i.bind(r,t),t.apiUrl=t.apiUrl||""+e.API_URL+"/"+e.API_VERSION,t},a=n({path:"image",apiUrl:""+e.API_URL+"/"+e.API_VERSION,get:function(t){var i=e.buildOptions(this.apiUrl,""+this.path+"/"+t,"get");return this.imgurAPICall(i)}}),u=n({path:"oauth2",apiUrl:e.API_URL,get:function(t){var i=t||"token",r="?"+["response_type="+i,"client_id="+e.CLIENT_ID].join("&"),n=""+this.path+"/authorize"+r,a=e.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(a)},refresh:function(t,i){var r="?"+["refresh_token="+t,"client_id="+e.CLIENT_ID,"client_secret="+i,"grant_type=refresh_token"].join("&"),n=""+this.path+"/token"+r,a=e.buildOptions(this.apiUrl,n,"post");return this.imgurAPICall(a)}}),s=n({path:"topics",apiUrl:""+e.API_URL+"/"+e.API_VERSION,get:function(t){var i=void 0===arguments[1]?"viral":arguments[1],r=void 0===arguments[2]?0:arguments[2],n=""+this.path+"/"+t+"/"+i+"/"+r,a=e.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(a)},getDefaults:function(){var t=""+this.path+"/defaults",i=e.buildOptions(this.apiUrl,t,"get");return this.imgurAPICall(i)}}),o={path:"gallery",apiUrl:""+e.API_URL+"/"+e.API_VERSION},l=n(i.extend({},o,{get:function(t){var i=""+this.path+"/"+t,r=e.buildOptions(this.apiUrl,i,"get");return this.imgurAPICall(r)},comments:n(i.extend({},o,{get:function(t){var i=void 0===arguments[1]?"best":arguments[1],r=""+this.path+"/"+t+"/comments/"+i,n=e.buildOptions(this.apiUrl,r,"get");return this.imgurAPICall(n)}}))})),p=n({path:"gallery",apiUrl:""+e.API_URL+"/"+e.API_VERSION,get:function(){var t=void 0===arguments[0]?"hot":arguments[0],i=void 0===arguments[1]?"viral":arguments[1],r=void 0===arguments[2]?0:arguments[2],n=void 0===arguments[3]?!0:arguments[3],a=""+this.path+"/"+t+"/"+i+"/"+r+"?showViral="+n,u=e.buildOptions(this.apiUrl,a,"get");return this.imgurAPICall(u)},post:l}),h=function(t){var i=function(t,i){e[t]=i},n=function(t){return e[t]};if(!t)throw new Error("Client Key required to initialize imgur client");return i("CLIENT_ID",t),{imgurAPICall:r,CLIENT_ID:t,image:a,oauth2:u,topics:s,gallery:p,setUtil:i,getUtil:n}};return h});
//# sourceMappingURL=imgur.min.js.map