!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("lodash"),require("superagent-bluebird-promise")):"function"==typeof define&&define.amd?define(["lodash","superagent-bluebird-promise"],i):t.imgur=i(t._,t.request)}(this,function(t,i){"use strict";var e={API_URL:"https://api.imgur.com",API_VERSION:"3",CLIENT_ID:"",buildOptions:function(t,i,e){return{apiUrl:t,path:i,method:e}}},r=e,n=function(t){["method","apiUrl","path"].forEach(function(i){if(!t[i])throw new Error(i+" must be specified")});var e=t.body||{},n="Client-ID "+r.CLIENT_ID;return i[t.method]([t.apiUrl,t.path].join("/")).send(e).set("Authorization",n).promise()},o=n,a=function(i){return i.imgurAPICall=t.bind(o,i),i.apiUrl=i.apiUrl||[r.API_URL,r.API_VERSION].join("/"),i},u=a,s=u({path:"image",apiUrl:[r.API_URL,r.API_VERSION].join("/"),get:function(t){var i=r.buildOptions(this.apiUrl,[this.path,t].join("/"),"get");return this.imgurAPICall(i)}}),p=u({path:"oauth2",apiUrl:r.API_URL,get:function(t){var i=t||"token",e="?"+["response_type="+i,"client_id="+r.CLIENT_ID].join("&"),n=[this.path,"authorize"].join("/")+e,o=r.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(o)},authenticate:function(i,e){if(!i||!e)throw new Error("Username and password required authenticate");var n="generatetoken",o=t.extend(r.buildOptions(this.apiUrl,n,"post"),{body:{username:i,password:e,grant_type:"password",response_type:"token"}});return this.imgurAPICall(o)},refresh:function(t,i){var e="?"+["refresh_token="+t,"client_id="+r.CLIENT_ID,"client_secret="+i,"grant_type=refresh_token"].join("&"),n=[this.path,"token"].join("/")+e,o=r.buildOptions(this.apiUrl,n,"post");return this.imgurAPICall(o)}}),l=u({path:"topics",apiUrl:[r.API_URL,r.API_VERSION].join("/"),get:function(t){var i=void 0===arguments[1]?"viral":arguments[1],e=void 0===arguments[2]?0:arguments[2],n=[this.path,t,i,e].join("/"),o=r.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(o)}}),h=function(i){if(!i)throw new Error("Client Key required to initialize imgur client");var e={image:s,oauth2:p,topics:l};r.CLIENT_ID=i;var n={imgurAPICall:o};return n.CLIENT_ID=i,t.forEach(e,function(t,i){n[i]=t}),n},d=h;return d});
//# sourceMappingURL=imgur.min.js.map