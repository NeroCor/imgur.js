{"version":3,"sources":["/source/imgur.js","imgur.min.js"],"names":["global","factory","exports","module","require","define","amd","imgur","request","_","this","utils_js__utils","API_URL","API_VERSION","CLIENT_ID","buildOptions","apiUrl","path","method","bearer","utils_js","_imgurAPICall__imgurAPICall","options","forEach","option","Error","authToken","body","BEARER","join","send","set","promise","_imgurAPICall","_endpoint__endpoint","imgurAPICall","bind","_endpoint","imageEndpoint","get","hash","oauth2Endpoint","responseType","resType","queryString","refresh","refreshToken","clientSecret","topicsEndpoint","topicId","sort","undefined","arguments","page","requestPath","imgur__Imgur","clientKey","setUtil","key","value","getUtil","image","oauth2","topics"],"mappings":"CAAA,SAAWA,EAAQC,GACI,gBAAZC,UAA0C,mBAAXC,QAAyBA,OAAOD,QAAUD,EAAQG,QAAQ,+BAAgCA,QAAQ,WACtH,kBAAXC,SAAyBA,OAAOC,IAAMD,QAAQ,8BAA+B,UAAWJ,GAC/FD,EAAOO,MAAQN,EAAQD,EAAOQ,QAASR,EAAOS,IAChDC,KAAM,SAAUF,EAASC,GAAK,YAE5B,IAAIE,IACAC,QAAU,wBACVC,YAAa,IACbC,UAAW,GACXC,aAAc,SAASC,EAAQC,EAAMC,GACjC,OAASF,OAAAA,EAAQC,KAAAA,EAAMC,OAAAA,IAE3BC,OAAQ,IAGRC,EAAWT,EAEXU,EAA8B,SAASC,IACtC,SAAU,SAAU,QAAQC,QAAQ,SAAAC,GACjC,IAAIF,EAAQE,GACR,KAAM,IAAIC,OAAMD,EAAS,uBAGjC,IAAIE,GAAY,aAAeN,EAASN,UACpCa,EAAOL,EAAQK,QAInB,OAHGP,GAASQ,SACRF,EAAS,UAAaN,EAASQ,QAE5BpB,EAAQc,EAAQJ,SAASI,EAAQN,OAAQM,EAAQL,MAAMY,KAAK,MAC9DC,KAAKH,GACLI,IAAI,gBAAiBL,GACrBM,WAGLC,EAAgBZ,EAEhBa,EAAsB,SAAAZ,GAGtB,MAFAA,GAAQa,aAAe1B,EAAE2B,KAAKH,EAAeX,GAC7CA,EAAQN,OAASM,EAAQN,SAAWI,EAASR,QAASQ,EAASP,aAAagB,KAAK,KAC1EP,GAGPe,EAAYH,EAEZI,EAAgBD,GAChBpB,KAAM,QACND,QAASI,EAASR,QAASQ,EAASP,aAAagB,KAAK,KACtDU,IAAG,SAACC,GACA,GAAMlB,GAAUF,EAASL,aAAaL,KAAKM,QAASN,KAAKO,KAAMuB,GAAMX,KAAK,KAAM,MAChF,OAAOnB,MAAKyB,aAAab,MAI7BmB,EAAiBJ,GACjBpB,KAAM,SACND,OAAQI,EAASR,QACjB2B,IAAG,SAACG,GACA,GAAMC,GAAWD,GAAgB,QAC3BE,EAAc,KAAM,iBACLD,EAAO,aACXvB,EAASN,WAC5Be,KAAK,KAEGZ,GAAQP,KAAKO,KAAM,aAAaY,KAAK,KAAOe,EAC5CtB,EAAUF,EAASL,aAAaL,KAAKM,OAAQC,EAAM,MAEzD,OAAOP,MAAKyB,aAAab,IAE7BuB,QAAO,SAACC,EAAcC,GAClB,GAAMH,GAAc,KAAM,iBACLE,EAAY,aAChB1B,EAASN,UAAS,iBACdiC,EACjB,4BACFlB,KAAK,KAEDZ,GAAQP,KAAKO,KAAM,SAASY,KAAK,KAAOe,EACxCtB,EAAUF,EAASL,aAAaL,KAAKM,OAAQC,EAAM,OAEzD,OAAOP,MAAKyB,aAAab,MAK7B0B,EAAiBX,GACjBpB,KAAM,SACND,QAASI,EAASR,QAASQ,EAASP,aAAagB,KAAK,KACtDU,IAAG,SAACU,GCbA,GDaSC,GAAIC,SAAAC,UAAA,GAAC,QAAOA,UAAA,GAAEC,EAAIF,SAAAC,UAAA,GAAC,EAACA,UAAA,GACvBE,GAAe5C,KAAKO,KAAMgC,EAASC,EAAMG,GAAMxB,KAAK,KACpDP,EAAUF,EAASL,aAAaL,KAAKM,OAAQsC,EAAa,MAChE,OAAO5C,MAAKyB,aAAab,MAI7BiC,EAAe,SAAAC,GACf,GAAIC,GAAU,SAASC,EAAKC,GACxBvC,EAASsC,GAAOC,GAGhBC,EAAU,SAASF,GACnB,MAAOtC,GAASsC,GAGpB,KAAIF,EAAa,KAAM,IAAI/B,OAAM,iDAIjC,OAFAgC,GAAQ,YAAaD,IAGjBK,MAAQvB,EACRwB,OAAQrB,EACRsB,OAAQf,EACRb,aAAeF,EACfwB,QAAAA,EACAG,QAAAA,IAKJrD,EAAQgD,CAEZ,OAAOhD","file":"imgur.min.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('superagent-bluebird-promise'), require('lodash')) :\n    typeof define === 'function' && define.amd ? define(['superagent-bluebird-promise', 'lodash'], factory) :\n    global.imgur = factory(global.request, global._)\n}(this, function (request, _) { 'use strict';\n\n    let utils_js__utils = {\n        API_URL : 'https://api.imgur.com',\n        API_VERSION: '3',\n        CLIENT_ID: '',\n        buildOptions: function(apiUrl, path, method) {\n            return { apiUrl, path, method };\n        },\n        bearer: ''\n    };\n\n    var utils_js = utils_js__utils;\n\n    let _imgurAPICall__imgurAPICall = function(options) {\n        ['method', 'apiUrl', 'path'].forEach(option => {\n            if(!options[option]) {\n                throw new Error(option + ' must be specified');\n            }\n        });\n        let authToken = 'Client-ID ' + utils_js.CLIENT_ID;\n        let body = options.body || {};\n        if(utils_js.BEARER) {\n            authToken = `Bearer ${utils_js.BEARER}`;\n        }\n        return request[options.method]([options.apiUrl, options.path].join('/'))\n            .send(body)\n            .set('Authorization', authToken)\n            .promise();\n    };\n\n    var _imgurAPICall = _imgurAPICall__imgurAPICall;\n\n    let _endpoint__endpoint = options => {\n        options.imgurAPICall = _.bind(_imgurAPICall, options);\n        options.apiUrl = options.apiUrl || [utils_js.API_URL, utils_js.API_VERSION].join('/');\n        return options;\n    };\n\n    var _endpoint = _endpoint__endpoint;\n\n    var imageEndpoint = _endpoint({\n        path: 'image',\n        apiUrl: [utils_js.API_URL, utils_js.API_VERSION].join('/'),\n        get(hash) {\n            const options = utils_js.buildOptions(this.apiUrl, [this.path, hash].join('/'), 'get');\n            return this.imgurAPICall(options);\n        }\n    });\n\n    var oauth2Endpoint = _endpoint({\n        path: 'oauth2',\n        apiUrl: utils_js.API_URL,\n        get(responseType) {\n            const resType = (responseType || 'token');\n            const queryString = '?' + [\n                `response_type=${resType}`,\n                `client_id=${utils_js.CLIENT_ID}`\n        ].join('&');\n\n            const path = [this.path, 'authorize'].join('/') + queryString;\n            const options = utils_js.buildOptions(this.apiUrl, path, 'get');\n\n            return this.imgurAPICall(options);\n        },\n        refresh(refreshToken, clientSecret) {\n            const queryString = '?' + [\n                `refresh_token=${refreshToken}`,\n                `client_id=${utils_js.CLIENT_ID}`,\n                `client_secret=${clientSecret}`,\n                'grant_type=refresh_token'\n            ].join('&');\n\n            const path = [this.path, 'token'].join('/') + queryString;\n            const options = utils_js.buildOptions(this.apiUrl, path, 'post');\n\n            return this.imgurAPICall(options);\n        },\n\n    });\n\n    var topicsEndpoint = _endpoint({\n        path: 'topics',\n        apiUrl: [utils_js.API_URL, utils_js.API_VERSION].join('/'),\n        get(topicId, sort='viral', page=0) {\n            const requestPath = [this.path, topicId, sort, page].join('/');\n            const options = utils_js.buildOptions(this.apiUrl, requestPath, 'get');\n            return this.imgurAPICall(options);\n        }\n    });\n\n    let imgur__Imgur = clientKey => {\n        let setUtil = function(key, value) {\n            utils_js[key] = value;\n        };\n\n        let getUtil = function(key) {\n            return utils_js[key];\n        };\n\n        if(!clientKey) { throw new Error('Client Key required to initialize imgur client');}\n\n        setUtil('CLIENT_ID', clientKey);\n\n        return {\n            image : imageEndpoint,\n            oauth2: oauth2Endpoint,\n            topics: topicsEndpoint,\n            imgurAPICall : _imgurAPICall,\n            setUtil,\n            getUtil\n        };\n\n    };\n\n    var imgur = imgur__Imgur;\n\n    return imgur;\n\n}));\n",null],"sourceRoot":"/source/"}